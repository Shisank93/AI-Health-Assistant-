<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Health Assistant - MVP</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f8fb;
      color: #222;
    }
    header {
      background: #007bff;
      color: white;
      padding: 15px 20px;
      text-align: center;
    }
    nav {
      background: #0056b3;
      display: flex;
      justify-content: center;
      padding: 10px 0;
    }
    nav button {
      background: transparent;
      color: white;
      border: none;
      margin: 0 10px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 16px;
    }
    nav button:hover {
      background: #00408d;
      border-radius: 6px;
    }
    section {
      display: none;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    section.active {
      display: block;
    }
    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-bottom: 15px;
    }
    .footer {
      text-align: center;
      padding: 15px;
      background: #007bff;
      color: white;
      margin-top: 30px;
    }
    input, textarea, button {
      width: 100%;
      margin-top: 10px;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button.action {
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
      margin-top: 10px;
    }
    button.action:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <header>
    <h1>AI Health Assistant</h1>
    <p>Your trusted digital healthcare companion</p>
  </header>

  <nav>
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('symptom')">Symptom Checker</button>
    <button onclick="showSection('pharmacy')">Pharmacies</button>
    <button onclick="showSection('hospital')">Hospitals</button>
    <button onclick="showSection('medicine')">Medicines</button>
  </nav>

  <!-- HOME -->
  <section id="home" class="active">
    <h2>Welcome to AI Health Assistant</h2>
    <p>This MVP demonstrates how users can get instant health advice, find nearby medical stores, connect with hospitals, and learn about medicines ‚Äî all in one place.</p>
    <div class="card">
      <h3>Features:</h3>
      <ul>
        <li>üß† AI-based Symptom Analysis</li>
        <li>üíä Pharmacy Finder</li>
        <li>üè• Hospital Directory</li>
        <li>üíâ Medicine Information</li>
      </ul>
    </div>
  </section>

  <!-- SYMPTOM CHECKER -->
  <section id="symptom">
    <h2>AI Symptom Checker</h2>
    <p>Describe your symptoms below and get an AI-based suggestion.</p>
    <textarea id="symptomInput" placeholder="e.g., I have a sore throat and mild fever."></textarea>
    <button class="action" onclick="analyzeSymptom()">Analyze</button>
    <div id="symptomResult" class="card"></div>
  </section>

  <!-- PHARMACY -->
  <section id="pharmacy">
    <h2>Nearby Pharmacies</h2>
    <div id="pharmacyList"></div>
  </section>

  <!-- HOSPITAL -->
  <section id="hospital">
    <h2>Hospitals</h2>
    <div id="hospitalList"></div>
  </section>

  <!-- MEDICINES -->
  <section id="medicine">
    <h2>Medicine Information</h2>
    <div id="medicineList"></div>
  </section>

  <div class="footer">
    Developed by <b>Shisank</b> | AI Health Assistant MVP
  </div>

  <!-- Firebase SDKs -->
  <script type="module">
    // Import Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBDLK73Fp-CoUmfpWIVnj6_9s9sv-Dp8v0",
      authDomain: "bizflow-40tte.firebaseapp.com",
      projectId: "bizflow-40tte",
      storageBucket: "bizflow-40tte.firebasestorage.app",
      messagingSenderId: "52657563663",
      appId: "1:52657563663:web:66fbee4b729f81ed50db7a"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Section switching
    window.showSection = function(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    };

    // AI-like Symptom Analysis
    window.analyzeSymptom = function() {
      const input = document.getElementById("symptomInput").value.trim();
      const result = document.getElementById("symptomResult");
      if (!input) {
        result.innerHTML = "<p>Please enter your symptoms.</p>";
        return;
      }

      let advice = "Based on your symptoms, it seems like a mild condition. Stay hydrated, rest well, and monitor your health. If it worsens, visit a doctor.";
      if (input.includes("fever")) advice = "You may have a viral infection. Drink fluids, rest, and take paracetamol if needed. Consult a doctor if temperature exceeds 101¬∞F.";
      if (input.includes("cough")) advice = "Looks like a common cold or mild cough. Use steam inhalation and stay hydrated. If persistent, see a doctor.";
      if (input.includes("headache")) advice = "This could be due to stress or dehydration. Rest, hydrate, and use a cold compress.";

      result.innerHTML = `<b>AI Suggestion:</b> ${advice}`;
    };

    // Load Firebase data
    async function loadData() {
      try {
        // Hospitals
        const hospitalSnap = await getDocs(collection(db, "hospitals"));
        let hospitalHTML = "";
        hospitalSnap.forEach(doc => {
          const h = doc.data();
          hospitalHTML += `
            <div class="card">
              <h3>${h.name}</h3>
              <p>üìç ${h.address}</p>
              <p>üìû ${h.contact}</p>
            </div>`;
        });
        document.getElementById("hospitalList").innerHTML = hospitalHTML || "<p>No hospitals found in database.</p>";

        // Pharmacies
        const pharmacySnap = await getDocs(collection(db, "pharmacies"));
        let pharmacyHTML = "";
        pharmacySnap.forEach(doc => {
          const p = doc.data();
          pharmacyHTML += `
            <div class="card">
              <h3>${p.name}</h3>
              <p>üìç ${p.location}</p>
              <p>üïí ${p.hours || "Open hours not specified"}</p>
            </div>`;
        });
        document.getElementById("pharmacyList").innerHTML = pharmacyHTML || "<p>No pharmacies found.</p>";

        // Medicines
        const medSnap = await getDocs(collection(db, "medicines"));
        let medHTML = "";
        medSnap.forEach(doc => {
          const m = doc.data();
          medHTML += `
            <div class="card">
              <h3>${m.name}</h3>
              <p>üíä Use: ${m.use}</p>
              <p>üí∞ Price: ‚Çπ${m.price}</p>
            </div>`;
        });
        document.getElementById("medicineList").innerHTML = medHTML || "<p>No medicines found.</p>";
      } catch (err) {
        console.error("Error loading data:", err);
      }
    }
    loadData();
  </script>
</body>
</html>
